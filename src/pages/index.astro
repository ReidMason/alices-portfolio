---
import Layout from "../layouts/Layout.astro";
import { Image } from "@astrojs/image/components";
import getProjects from "../projects";

const projects = await getProjects();
---

<Layout title="Alice Collins">
  <main class="flex flex-col w-full items-center">
    <ul class="grid md:grid-cols-2 gap-24 w-full">
      {
        projects.map((project) => (
          <li>
            <a href={`/project/${project.slug}`} class="group">
              <div class="relative pb-[75%] w-full">
                <div class="image-wrapper group-hover:opacity-90 transition-opacity duration-200">
                  <Image
                    src={project.imageData.mainImage.src}
                    format="webp"
                    alt="testing"
                    width={project.imageData.mainImage.width}
                    height={project.imageData.mainImage.height}
                  />
                </div>
              </div>
              <p class="mt-3 text-xl">{project.name}</p>
            </a>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>

<style>
  .image-wrapper img {
    @apply object-cover absolute w-full h-full;
  }
</style>
